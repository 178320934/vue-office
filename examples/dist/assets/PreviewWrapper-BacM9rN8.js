import{r as u,m as I,_ as N,w as P,a as i,c as k,u as t,g as d,f as s,p as g,q as S,e as x,s as h,l as V,t as r,v as A,x as R,b as T}from"./index-DW896H28.js";function $(e){const p=u("url"),a=u(e),o=u(e),n=u(typeof e=="string"?e.endsWith(".xls"):!1),c=u([]);function y(f){n.value=f.name.endsWith("xls");let _=new FileReader;return _.onload=l=>{let v=l.target.result;o.value=v},_.readAsArrayBuffer(f),!1}return{type:p,inputSrc:a,src:o,xls:n,fileList:c,beforeUpload:y}}let w=u(!1),B;function q(e){B=I.loading(e,0),w.value=!0}function E(){w.value===!0&&(B(),w.value=!1)}const F={loading:w,showLoading:q,hideLoading:E};function j(){return location.href.includes("test")}const z=e=>(A("data-v-0bd825a5"),e=e(),R(),e),D={class:"preview-wrapper"},G={key:0,class:"operate-area"},H=z(()=>T("div",{class:"preview-wrapper-main"},null,-1)),J={__name:"PreviewWrapper",props:{accept:String,placeholder:String,defaultSrc:String},setup(e){const p=e,{type:a,inputSrc:o,src:n,xls:c,fileList:y,beforeUpload:f}=$(p.defaultSrc);return P(n,()=>{F.showLoading()},{immediate:!0}),(_,l)=>{const v=r("a-radio-button"),L=r("a-radio-group"),U=r("a-input"),b=r("a-button"),W=r("upload-outlined"),C=r("a-upload");return i(),k("div",D,[t(j)()?h("",!0):(i(),k("div",G,[d(L,{value:t(a),"onUpdate:value":l[0]||(l[0]=m=>S(a)?a.value=m:null),"button-style":"solid"},{default:s(()=>[d(v,{value:"url"},{default:s(()=>[g("远程文件地址")]),_:1}),d(v,{value:"upload"},{default:s(()=>[g("上传本地文件")]),_:1})]),_:1},8,["value"]),t(a)==="url"?(i(),x(U,{key:0,value:t(o),"onUpdate:value":l[1]||(l[1]=m=>S(o)?o.value=m:null),placeholder:p.placeholder,style:{width:"600px","margin-left":"10px"}},null,8,["value","placeholder"])):h("",!0),t(a)==="url"?(i(),x(b,{key:1,type:"primary",style:{"margin-left":"10px"},onClick:l[2]||(l[2]=m=>{n.value=t(o),c.value=t(o).endsWith("xls")})},{default:s(()=>[g(" 预览 ")]),_:1})):h("",!0),t(a)!=="url"?(i(),x(C,{key:2,accept:p.accept,action:"",beforeUpload:t(f),"file-list":[]},{default:s(()=>[d(b,{style:{"margin-left":"10px"}},{default:s(()=>[d(W),g(" 选择文件 ")]),_:1})]),_:1},8,["accept","beforeUpload"])):h("",!0)])),V(_.$slots,"default",{src:t(n),xls:t(c)},void 0,!0),H])}}},M=N(J,[["__scopeId","data-v-0bd825a5"]]);export{M as P,F as u};
